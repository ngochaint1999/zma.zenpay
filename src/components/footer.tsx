/* eslint-disable sort-keys */
/* eslint-disable no-magic-numbers */
import Lottie from "lottie-react";
import HorizontalDivider from "./horizontal-divider";
import FooterButtonPayment from "./payment/footer-button-payment";
import TransitionLink from "./transition-link";
import { NotificationIcon, HistoryIcon, HomeIcon, ProfileIcon } from "./vectors";
import leafData from './../mock/leaf.json'

import { useRouteHandle } from "@/hooks";

export default function Footer() {
  const [handle] = useRouteHandle();

  const options = {
    animationData: leafData,
    width: 48,
    height: 48,
    loop: true,
    autoPlay: true
  };

  const NAV_ITEMS = [
    {
      name: "Tổng quan",
      path: "/home",
      iconActive: (
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
          <path d="M14.3 26C7.67249 26 2.29999 20.6275 2.29999 14C2.29999 7.3725 7.67249 2 14.3 2C20.9275 2 26.3 7.3725 26.3 14C26.3 20.6275 20.9275 26 14.3 26ZM9.29999 11C9.03477 11 8.78042 11.1054 8.59288 11.2929C8.40534 11.4804 8.29999 11.7348 8.29999 12V19C8.29999 19.2652 8.40534 19.5196 8.59288 19.7071C8.78042 19.8946 9.03477 20 9.29999 20H10.3C10.5652 20 10.8196 19.8946 11.0071 19.7071C11.1946 19.5196 11.3 19.2652 11.3 19V12C11.3 11.7348 11.1946 11.4804 11.0071 11.2929C10.8196 11.1054 10.5652 11 10.3 11H9.29999ZM13.8 8C13.5348 8 13.2804 8.10536 13.0929 8.29289C12.9053 8.48043 12.8 8.73478 12.8 9V19C12.8 19.2652 12.9053 19.5196 13.0929 19.7071C13.2804 19.8946 13.5348 20 13.8 20H14.8C15.0652 20 15.3196 19.8946 15.5071 19.7071C15.6946 19.5196 15.8 19.2652 15.8 19V9C15.8 8.73478 15.6946 8.48043 15.5071 8.29289C15.3196 8.10536 15.0652 8 14.8 8H13.8ZM18.3 14C18.0348 14 17.7804 14.1054 17.5929 14.2929C17.4053 14.4804 17.3 14.7348 17.3 15V19C17.3 19.2652 17.4053 19.5196 17.5929 19.7071C17.7804 19.8946 18.0348 20 18.3 20H19.3C19.5652 20 19.8196 19.8946 20.0071 19.7071C20.1946 19.5196 20.3 19.2652 20.3 19V15C20.3 14.7348 20.1946 14.4804 20.0071 14.2929C19.8196 14.1054 19.5652 14 19.3 14H18.3Z" fill="#F79D23" />
        </svg>
      ),
      icon: HomeIcon,
    },
    {
      name: "Đơn hàng",
      path: "/orders",
      iconActive: (
        <div className="from-[#F79D23] to-[#ED0503] bg-gradient-to-b rounded-full p-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
            <path d="M14.0679 1.43994V10.0414C14.0679 11.5414 14.7709 12.2564 16.2709 12.2564H24.7554V22.8969C24.7554 25.3344 23.5484 26.5649 21.1224 26.5649H8.67743C6.26343 26.5649 5.04443 25.3464 5.04443 22.8969V5.11944C5.04443 2.68194 6.26343 1.43994 8.67743 1.43994H14.0679ZM9.96293 16.4674H9.18143C8.74993 16.4674 8.39993 16.8174 8.39993 17.2489V22.7189C8.39993 23.1499 8.74993 23.4999 9.18143 23.4999H9.96293C10.3944 23.4999 10.7439 23.1499 10.7439 22.7184V17.2484C10.7439 16.8174 10.3939 16.4674 9.96293 16.4674ZM13.4789 14.1234H12.6974C12.2659 14.1234 11.9164 14.4734 11.9164 14.9044V22.7184C11.9164 23.1499 12.2664 23.4999 12.6974 23.4999H13.4789C13.9104 23.4999 14.2604 23.1499 14.2604 22.7184V14.9049C14.2604 14.4734 13.9104 14.1234 13.4789 14.1234ZM16.9954 18.8119H16.2139C15.7824 18.8119 15.4324 19.1619 15.4324 19.5934V22.7189C15.4324 23.1504 15.7824 23.5004 16.2139 23.5004H16.9954C17.4269 23.5004 17.7764 23.1504 17.7764 22.7189V19.5939C17.7764 19.1619 17.4264 18.8119 16.9954 18.8119ZM15.6614 1.56894C16.1539 1.65094 16.6464 1.99094 17.1849 2.55344L23.6539 9.12744C24.2044 9.70144 24.5444 10.1704 24.6264 10.6509H16.3064C15.8844 10.6509 15.6614 10.4399 15.6614 10.0179V1.56894Z" fill="#ffffff" />
          </svg>
        </div>
      ),
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
          <path d="M14.0679 1.43994V10.0414C14.0679 11.5414 14.7709 12.2564 16.2709 12.2564H24.7554V22.8969C24.7554 25.3344 23.5484 26.5649 21.1224 26.5649H8.67743C6.26343 26.5649 5.04443 25.3464 5.04443 22.8969V5.11944C5.04443 2.68194 6.26343 1.43994 8.67743 1.43994H14.0679ZM9.96293 16.4674H9.18143C8.74993 16.4674 8.39993 16.8174 8.39993 17.2489V22.7189C8.39993 23.1499 8.74993 23.4999 9.18143 23.4999H9.96293C10.3944 23.4999 10.7439 23.1499 10.7439 22.7184V17.2484C10.7439 16.8174 10.3939 16.4674 9.96293 16.4674ZM13.4789 14.1234H12.6974C12.2659 14.1234 11.9164 14.4734 11.9164 14.9044V22.7184C11.9164 23.1499 12.2664 23.4999 12.6974 23.4999H13.4789C13.9104 23.4999 14.2604 23.1499 14.2604 22.7184V14.9049C14.2604 14.4734 13.9104 14.1234 13.4789 14.1234ZM16.9954 18.8119H16.2139C15.7824 18.8119 15.4324 19.1619 15.4324 19.5934V22.7189C15.4324 23.1504 15.7824 23.5004 16.2139 23.5004H16.9954C17.4269 23.5004 17.7764 23.1504 17.7764 22.7189V19.5939C17.7764 19.1619 17.4264 18.8119 16.9954 18.8119ZM15.6614 1.56894C16.1539 1.65094 16.6464 1.99094 17.1849 2.55344L23.6539 9.12744C24.2044 9.70144 24.5444 10.1704 24.6264 10.6509H16.3064C15.8844 10.6509 15.6614 10.4399 15.6614 10.0179V1.56894Z" fill="#1A1A1A" fillOpacity="0.36" />
        </svg>
      ),
    },
    {
      name: "Tạo đơn",
      path: "/order/create",
      iconActive: (
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
          <path d="M14.3 26C7.67249 26 2.29999 20.6275 2.29999 14C2.29999 7.3725 7.67249 2 14.3 2C20.9275 2 26.3 7.3725 26.3 14C26.3 20.6275 20.9275 26 14.3 26ZM9.29999 11C9.03477 11 8.78042 11.1054 8.59288 11.2929C8.40534 11.4804 8.29999 11.7348 8.29999 12V19C8.29999 19.2652 8.40534 19.5196 8.59288 19.7071C8.78042 19.8946 9.03477 20 9.29999 20H10.3C10.5652 20 10.8196 19.8946 11.0071 19.7071C11.1946 19.5196 11.3 19.2652 11.3 19V12C11.3 11.7348 11.1946 11.4804 11.0071 11.2929C10.8196 11.1054 10.5652 11 10.3 11H9.29999ZM13.8 8C13.5348 8 13.2804 8.10536 13.0929 8.29289C12.9053 8.48043 12.8 8.73478 12.8 9V19C12.8 19.2652 12.9053 19.5196 13.0929 19.7071C13.2804 19.8946 13.5348 20 13.8 20H14.8C15.0652 20 15.3196 19.8946 15.5071 19.7071C15.6946 19.5196 15.8 19.2652 15.8 19V9C15.8 8.73478 15.6946 8.48043 15.5071 8.29289C15.3196 8.10536 15.0652 8 14.8 8H13.8ZM18.3 14C18.0348 14 17.7804 14.1054 17.5929 14.2929C17.4053 14.4804 17.3 14.7348 17.3 15V19C17.3 19.2652 17.4053 19.5196 17.5929 19.7071C17.7804 19.8946 18.0348 20 18.3 20H19.3C19.5652 20 19.8196 19.8946 20.0071 19.7071C20.1946 19.5196 20.3 19.2652 20.3 19V15C20.3 14.7348 20.1946 14.4804 20.0071 14.2929C19.8196 14.1054 19.5652 14 19.3 14H18.3Z" fill="#F79D23" />
        </svg>
      ),
      icon: (
        <div className="relative mb-5">
          <div className="size-[56px] rounded-full border-[5px] border-[#F4F4F5] flex justify-center items-center from-[#F79D23] to-[#ED0503] bg-gradient-to-b">
          </div>
        </div>
      )
    },
    {
      name: "Sản phẩm",
      path: "/products",
      iconActive: (
        <div className="from-[#F79D23] to-[#ED0503] bg-gradient-to-b rounded-full p-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
            <path d="M20.733 9.5585L25.139 7.051C24.963 6.875 24.752 6.7345 24.4945 6.5935L16.233 1.8835C15.5065 1.473 14.803 1.25 14.1 1.25C13.397 1.25 12.694 1.4725 11.967 1.883L9.5885 3.23L20.733 9.5585ZM14.1 13.3205L19.104 10.4845L8.0065 4.1445L3.7055 6.594C3.4475 6.734 3.237 6.875 3.0605 7.051L14.1 13.3205ZM14.897 26.75C14.979 26.7265 15.049 26.6915 15.1315 26.645L24.307 21.418C25.397 20.797 25.9945 20.164 25.9945 18.465V9.336C25.9945 8.9845 25.9595 8.703 25.901 8.4455L14.897 14.7265V26.75ZM13.303 26.75V14.7265L2.3 8.4455C2.23462 8.73758 2.20307 9.03621 2.206 9.3355V18.465C2.206 20.164 2.8035 20.797 3.8935 21.418L13.0695 26.6445C13.1515 26.6915 13.221 26.7265 13.303 26.75Z" fill="#ffffff" />
          </svg>
        </div>
      ),
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
          <path d="M20.733 9.5585L25.139 7.051C24.963 6.875 24.752 6.7345 24.4945 6.5935L16.233 1.8835C15.5065 1.473 14.803 1.25 14.1 1.25C13.397 1.25 12.694 1.4725 11.967 1.883L9.5885 3.23L20.733 9.5585ZM14.1 13.3205L19.104 10.4845L8.0065 4.1445L3.7055 6.594C3.4475 6.734 3.237 6.875 3.0605 7.051L14.1 13.3205ZM14.897 26.75C14.979 26.7265 15.049 26.6915 15.1315 26.645L24.307 21.418C25.397 20.797 25.9945 20.164 25.9945 18.465V9.336C25.9945 8.9845 25.9595 8.703 25.901 8.4455L14.897 14.7265V26.75ZM13.303 26.75V14.7265L2.3 8.4455C2.23462 8.73758 2.20307 9.03621 2.206 9.3355V18.465C2.206 20.164 2.8035 20.797 3.8935 21.418L13.0695 26.6445C13.1515 26.6915 13.221 26.7265 13.303 26.75Z" fill="#1A1A1A" fillOpacity="0.36" />
        </svg>
      ),
    },
    {
      name: "Cài đặt",
      path: "/setting",
      iconActive: (
        <div className="from-[#F79D23] to-[#ED0503] bg-gradient-to-b rounded-full p-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
            <path fillRule="evenodd" clipRule="evenodd" d="M12.0959 25.7166C10.8867 25.4485 9.72654 24.9941 8.65694 24.3696L8.71894 23.1571C8.80344 21.5036 7.52694 20.2321 5.87794 20.3161L4.53794 20.3846C3.90237 19.3757 3.42138 18.2773 3.11094 17.1261L4.16294 16.1761C5.39194 15.0671 5.38894 13.2651 4.16294 12.1586L3.04144 11.1461C3.3165 10.0201 3.75392 8.94009 4.33994 7.94005L5.87794 8.01855C7.53144 8.10305 8.80294 6.82655 8.71894 5.17755L8.63994 3.64005C9.63967 3.05412 10.7193 2.6167 11.8449 2.34155L12.8579 3.46305C13.9679 4.69205 15.7694 4.68905 16.8759 3.46305L17.8259 2.41105C18.977 2.72138 20.0752 3.2022 21.0839 3.83755L21.0154 5.17755C20.9309 6.83155 22.2074 8.10305 23.8564 8.01905L25.0689 7.95705C25.6934 9.02665 26.1479 10.1868 26.4159 11.3961L25.5709 12.1586C24.3424 13.2686 24.3459 15.0701 25.5709 16.1766L26.3514 16.8806C26.047 18.1143 25.5477 19.2916 24.8724 20.3681L23.8564 20.3161C22.2029 20.2316 20.9314 21.5081 21.0154 23.1571L21.0674 24.1731C19.991 24.8483 18.8137 25.3476 17.5799 25.6521L16.8759 24.8721C15.7659 23.6431 13.9644 23.6461 12.8579 24.8721L12.0959 25.7166ZM14.6999 19.0001C17.4614 19.0001 19.6999 16.7616 19.6999 14.0001C19.6999 11.2386 17.4614 9.00005 14.6999 9.00005C11.9384 9.00005 9.69994 11.2386 9.69994 14.0001C9.69994 16.7616 11.9384 19.0001 14.6999 19.0001Z" fill="#ffffff" />
          </svg>
        </div>
      ),
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28" fill="none">
          <path fillRule="evenodd" clipRule="evenodd" d="M12.0959 25.7166C10.8867 25.4485 9.72654 24.9941 8.65694 24.3696L8.71894 23.1571C8.80344 21.5036 7.52694 20.2321 5.87794 20.3161L4.53794 20.3846C3.90237 19.3757 3.42138 18.2773 3.11094 17.1261L4.16294 16.1761C5.39194 15.0671 5.38894 13.2651 4.16294 12.1586L3.04144 11.1461C3.3165 10.0201 3.75392 8.94009 4.33994 7.94005L5.87794 8.01855C7.53144 8.10305 8.80294 6.82655 8.71894 5.17755L8.63994 3.64005C9.63967 3.05412 10.7193 2.6167 11.8449 2.34155L12.8579 3.46305C13.9679 4.69205 15.7694 4.68905 16.8759 3.46305L17.8259 2.41105C18.977 2.72138 20.0752 3.2022 21.0839 3.83755L21.0154 5.17755C20.9309 6.83155 22.2074 8.10305 23.8564 8.01905L25.0689 7.95705C25.6934 9.02665 26.1479 10.1868 26.4159 11.3961L25.5709 12.1586C24.3424 13.2686 24.3459 15.0701 25.5709 16.1766L26.3514 16.8806C26.047 18.1143 25.5477 19.2916 24.8724 20.3681L23.8564 20.3161C22.2029 20.2316 20.9314 21.5081 21.0154 23.1571L21.0674 24.1731C19.991 24.8483 18.8137 25.3476 17.5799 25.6521L16.8759 24.8721C15.7659 23.6431 13.9644 23.6461 12.8579 24.8721L12.0959 25.7166ZM14.6999 19.0001C17.4614 19.0001 19.6999 16.7616 19.6999 14.0001C19.6999 11.2386 17.4614 9.00005 14.6999 9.00005C11.9384 9.00005 9.69994 11.2386 9.69994 14.0001C9.69994 16.7616 11.9384 19.0001 14.6999 19.0001Z" fill="#1A1A1A" fillOpacity="0.36" />
        </svg>
      ),
    },
  ];
  if (handle?.footer === false) return null;
  return (
    <>
      <HorizontalDivider />
      {handle?.footerType === "PAYMENT" ? (
        <FooterButtonPayment />
      ) : (
        <div
          className="w-full px-4 pt-2 grid"
          style={{
            gridTemplateColumns: `repeat(${NAV_ITEMS.length}, 1fr)`,
            paddingBottom: `max(16px, env(safe-area-inset-bottom)`,
          }}
        >
          {NAV_ITEMS.map((item) => (
            <TransitionLink
              to={item.path}
              key={item.path}
              className="flex flex-col items-center space-y-0.5 p-1 pb-0.5 cursor-pointer active:scale-105"
            >
              {({ isActive }) => (
                <>
                  <div className="w-10 h-10 flex justify-center items-center">
                    {isActive ? item.iconActive : item.icon as any}
                  </div>
                  <div className={`text-secondary text-3xs ${isActive ? "text-[#F79D23] font-bold" : ""}`}>
                    {item.name}
                  </div>
                </>
              )}
            </TransitionLink>
          ))}
        </div>
      )}
    </>
  );
}
