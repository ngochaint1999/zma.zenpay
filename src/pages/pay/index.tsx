import React, { useState } from "react";
import { ChevronDown, CircleCheck, Code, DirectSend, Location, Pin, RadioDot, UserTick } from "../store/icons";
import Logo from "../../static/icons/logo.svg";
import Gold from "../../static/images/gold.png";
import { useNavigate } from "react-router-dom";
import { Modal, Sheet } from "zmp-ui";

export default function PayPage() {
  const navigate = useNavigate();
  const [tabId, setTabId] = useState("individual");
  return (
    <div className="mx-auto w-full bg-white text-[#141518]">

      {/* Hero / Brand */}
      <div
        style={{
          background: `url(${Gold})`,
          backgroundRepeat: 'no-repeat',
          backgroundPositionY: -70,
          backgroundPositionX: 'right'
        }}
        className="relative overflow-hidden px-4 pt-5">
        <h1 className="mb-3 text-[20px] font-semibold leading-tight tracking-tight pt-4">
          Xuất hóa đơn
        </h1>

        <div className="rounded-2xl overflow-hidden border border-gray-200 bg-white shadow-sm">
          {/* Tabs */}
          <div className="mb-4 flex rounded-t-xl border-b border-[#F67416] bg-white overflow-hidden">
            <button onClick={() => setTabId("individual")} className="flex-1 flex items-center justify-center gap-2 bg-orange-50 py-3 text-[15px] font-bold text-orange-500">
              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                <path d="M18.188 21.937H7.31201C6.64897 21.937 6.01309 21.6736 5.54424 21.2048C5.0754 20.7359 4.81201 20.1 4.81201 19.437V18.61C4.81201 14.641 8.37301 11.41 12.75 11.41C17.127 11.41 20.688 14.639 20.688 18.61V19.437C20.688 20.1 20.4246 20.7359 19.9558 21.2048C19.4869 21.6736 18.8511 21.937 18.188 21.937ZM12.75 12.412C8.92401 12.412 5.81201 15.192 5.81201 18.612V19.439C5.81201 19.8368 5.97005 20.2184 6.25135 20.4997C6.53266 20.781 6.91419 20.939 7.31201 20.939H18.188C18.5858 20.939 18.9674 20.781 19.2487 20.4997C19.53 20.2184 19.688 19.8368 19.688 19.439V18.61C19.688 15.192 16.576 12.412 12.75 12.412ZM12.75 9.91101C11.9739 9.9112 11.2151 9.68123 10.5697 9.25018C9.92425 8.81912 9.42115 8.20635 9.124 7.48935C8.82684 6.77235 8.74899 5.98333 8.90029 5.22208C9.05158 4.46084 9.42523 3.76155 9.97397 3.21267C10.5227 2.66379 11.2219 2.28997 11.9831 2.13848C12.7443 1.98699 13.5334 2.06464 14.2504 2.36161C14.9675 2.65858 15.5804 3.16152 16.0116 3.80684C16.4428 4.45216 16.673 5.21087 16.673 5.98701C16.6722 7.0273 16.2587 8.02477 15.5232 8.76046C14.7877 9.49615 13.7903 9.90995 12.75 9.91101ZM12.75 3.06401C12.1716 3.06381 11.6062 3.23515 11.1251 3.55637C10.6441 3.87759 10.2692 4.33424 10.0478 4.86858C9.82634 5.40291 9.76836 5.99091 9.88115 6.5582C9.99394 7.1255 10.2724 7.6466 10.6814 8.05559C11.0904 8.46457 11.6115 8.74308 12.1788 8.85587C12.7461 8.96866 13.3341 8.91067 13.8684 8.68924C14.4028 8.4678 14.8594 8.09287 15.1806 7.61187C15.5019 7.13087 15.6732 6.5654 15.673 5.98701C15.6722 5.21202 15.364 4.46901 14.816 3.92101C14.268 3.37301 13.525 3.0648 12.75 3.06401Z" fill="#F67416" />
              </svg>
              Cá nhân
            </button>
            <button className="flex-1 flex items-center justify-center gap-2 py-3 text-[15px] font-bold text-gray-600">
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                <path d="M21 20.1875H18.5625V1.8125H19.5C19.6492 1.8125 19.7923 1.75324 19.8977 1.64775C20.0032 1.54226 20.0625 1.39918 20.0625 1.25C20.0625 1.10082 20.0032 0.957742 19.8977 0.852252C19.7923 0.746763 19.6492 0.6875 19.5 0.6875H3C2.85082 0.6875 2.70774 0.746763 2.60225 0.852252C2.49676 0.957742 2.4375 1.10082 2.4375 1.25C2.4375 1.39918 2.49676 1.54226 2.60225 1.64775C2.70774 1.75324 2.85082 1.8125 3 1.8125H3.9375V20.1875H1.5C1.35082 20.1875 1.20774 20.2468 1.10225 20.3523C0.996763 20.4577 0.9375 20.6008 0.9375 20.75C0.9375 20.8992 0.996763 21.0423 1.10225 21.1477C1.20774 21.2532 1.35082 21.3125 1.5 21.3125H21C21.1492 21.3125 21.2923 21.2532 21.3977 21.1477C21.5032 21.0423 21.5625 20.8992 21.5625 20.75C21.5625 20.6008 21.5032 20.4577 21.3977 20.3523C21.2923 20.2468 21.1492 20.1875 21 20.1875ZM5.0625 1.8125H17.4375V20.1875H14.0625V16.25C14.0625 16.1008 14.0032 15.9577 13.8977 15.8523C13.7923 15.7468 13.6492 15.6875 13.5 15.6875H9C8.85082 15.6875 8.70774 15.7468 8.60225 15.8523C8.49676 15.9577 8.4375 16.1008 8.4375 16.25V20.1875H5.0625V1.8125ZM12.9375 20.1875H9.5625V16.8125H12.9375V20.1875ZM7.6875 5C7.6875 4.85082 7.74676 4.70774 7.85225 4.60225C7.95774 4.49676 8.10082 4.4375 8.25 4.4375H9.75C9.89918 4.4375 10.0423 4.49676 10.1477 4.60225C10.2532 4.70774 10.3125 4.85082 10.3125 5C10.3125 5.14918 10.2532 5.29226 10.1477 5.39775C10.0423 5.50324 9.89918 5.5625 9.75 5.5625H8.25C8.10082 5.5625 7.95774 5.50324 7.85225 5.39775C7.74676 5.29226 7.6875 5.14918 7.6875 5ZM12.1875 5C12.1875 4.85082 12.2468 4.70774 12.3523 4.60225C12.4577 4.49676 12.6008 4.4375 12.75 4.4375H14.25C14.3992 4.4375 14.5423 4.49676 14.6477 4.60225C14.7532 4.70774 14.8125 4.85082 14.8125 5C14.8125 5.14918 14.7532 5.29226 14.6477 5.39775C14.5423 5.50324 14.3992 5.5625 14.25 5.5625H12.75C12.6008 5.5625 12.4577 5.50324 12.3523 5.39775C12.2468 5.29226 12.1875 5.14918 12.1875 5ZM7.6875 8.75C7.6875 8.60082 7.74676 8.45774 7.85225 8.35225C7.95774 8.24676 8.10082 8.1875 8.25 8.1875H9.75C9.89918 8.1875 10.0423 8.24676 10.1477 8.35225C10.2532 8.45774 10.3125 8.60082 10.3125 8.75C10.3125 8.89918 10.2532 9.04226 10.1477 9.14775C10.0423 9.25324 9.89918 9.3125 9.75 9.3125H8.25C8.10082 9.3125 7.95774 9.25324 7.85225 9.14775C7.74676 9.04226 7.6875 8.89918 7.6875 8.75ZM12.1875 8.75C12.1875 8.60082 12.2468 8.45774 12.3523 8.35225C12.4577 8.24676 12.6008 8.1875 12.75 8.1875H14.25C14.3992 8.1875 14.5423 8.24676 14.6477 8.35225C14.7532 8.45774 14.8125 8.60082 14.8125 8.75C14.8125 8.89918 14.7532 9.04226 14.6477 9.14775C14.5423 9.25324 14.3992 9.3125 14.25 9.3125H12.75C12.6008 9.3125 12.4577 9.25324 12.3523 9.14775C12.2468 9.04226 12.1875 8.89918 12.1875 8.75ZM8.25 13.0625C8.10082 13.0625 7.95774 13.0032 7.85225 12.8977C7.74676 12.7923 7.6875 12.6492 7.6875 12.5C7.6875 12.3508 7.74676 12.2077 7.85225 12.1023C7.95774 11.9968 8.10082 11.9375 8.25 11.9375H9.75C9.89918 11.9375 10.0423 11.9968 10.1477 12.1023C10.2532 12.2077 10.3125 12.3508 10.3125 12.5C10.3125 12.6492 10.2532 12.7923 10.1477 12.8977C10.0423 13.0032 9.89918 13.0625 9.75 13.0625H8.25ZM12.1875 12.5C12.1875 12.3508 12.2468 12.2077 12.3523 12.1023C12.4577 11.9968 12.6008 11.9375 12.75 11.9375H14.25C14.3992 11.9375 14.5423 11.9968 14.6477 12.1023C14.7532 12.2077 14.8125 12.3508 14.8125 12.5C14.8125 12.6492 14.7532 12.7923 14.6477 12.8977C14.5423 13.0032 14.3992 13.0625 14.25 13.0625H12.75C12.6008 13.0625 12.4577 13.0032 12.3523 12.8977C12.2468 12.7923 12.1875 12.6492 12.1875 12.5Z" fill="#F79D23" />
              </svg>
              Doanh nghiệp
            </button>
          </div>

          {tabId === "individual" ? (
            <>
              {/* Radio buttons */}
              <div className="mb-4 flex gap-3 px-4">
                <RadioOption label="Vãng lai" active={false} />
                <RadioOption label="Nhập thông tin" active={true} />
              </div>


              {/* Inputs */}
              <div className="px-4">
                <InputField placeholder="Mã định danh cá nhân" icon={<Code />} />
                <InputField placeholder="Họ và tên" icon={<UserTick />} />
                <InputField placeholder="Email nhận hóa đơn" icon={<DirectSend />} />
              </div>
            </>
          ) : (
            <></>
          )}

        </div>
      </div>

      {/* Spacer for bottom CTA */}
      <div className="h-28" />

      {/* Bottom CTA */}
      <div className="fixed inset-x-0 bottom-0 z-10 gap-4 mx-auto w-full bg-white/80 p-4 backdrop-blur pb-10">
        {/* <div>
          <p>Hình thức thanh toán</p>
        </div> */}
        
        <button onClick={() => navigate("/pay")} className="flex items-center justify-center gap-3 h-14 w-full rounded-2xl bg-gradient-to-r from-[#FF9F2E] to-[#FF4D00] text-base font-semibold text-white shadow-[0_8px_16px_rgba(255,125,0,0.35)] active:scale-[0.99]">
          <span className="min-w-6">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
              <path d="M11.4502 8.23999H13.3301C14.3695 8.24004 15.25 9.12151 15.25 10.24C15.25 10.3738 15.1339 10.49 15 10.49C14.8661 10.49 14.75 10.3738 14.75 10.24C14.75 9.4554 14.1559 8.74004 13.3301 8.73999H11.4502C10.7328 8.73999 10.25 9.36837 10.25 10.0203C10.25 10.3137 10.2857 10.6144 10.4736 10.8552C10.6567 11.0896 10.9228 11.1781 11.0732 11.2312L11.0752 11.2322L14.085 12.282L14.0879 12.283C14.374 12.3814 14.656 12.5192 14.8682 12.7556C15.07 12.9807 15.25 13.342 15.25 13.9705C15.2498 14.9702 14.4677 15.7498 13.5498 15.7498H11.6699C10.6305 15.7497 9.75 14.8682 9.75 13.7498C9.75013 13.616 9.86622 13.4998 10 13.4998C10.1338 13.4998 10.2499 13.616 10.25 13.7498C10.25 14.5343 10.8441 15.2497 11.6699 15.2498H13.5498C14.2671 15.2498 14.7498 14.6222 14.75 13.9705C14.75 13.677 14.7144 13.3754 14.5264 13.1345C14.3433 12.9002 14.0772 12.8116 13.9268 12.7585L13.9248 12.7576L10.915 11.7078L10.9121 11.7068C10.626 11.6084 10.344 11.4715 10.1318 11.2351C9.92993 11.0101 9.75005 10.6489 9.75 10.0203C9.75 9.02885 10.5336 8.23999 11.4502 8.23999Z" fill="white" />
              <path d="M11.4502 8.23999H13.3301C14.3695 8.24004 15.25 9.12151 15.25 10.24C15.25 10.3738 15.1339 10.49 15 10.49C14.8661 10.49 14.75 10.3738 14.75 10.24C14.75 9.4554 14.1559 8.74004 13.3301 8.73999H11.4502C10.7328 8.73999 10.25 9.36837 10.25 10.0203C10.25 10.3137 10.2857 10.6144 10.4736 10.8552C10.6567 11.0896 10.9228 11.1781 11.0732 11.2312L11.0752 11.2322L14.085 12.282L14.0879 12.283C14.374 12.3814 14.656 12.5192 14.8682 12.7556C15.07 12.9807 15.25 13.342 15.25 13.9705C15.2498 14.9702 14.4677 15.7498 13.5498 15.7498H11.6699C10.6305 15.7497 9.75 14.8682 9.75 13.7498C9.75013 13.616 9.86622 13.4998 10 13.4998C10.1338 13.4998 10.2499 13.616 10.25 13.7498C10.25 14.5343 10.8441 15.2497 11.6699 15.2498H13.5498C14.2671 15.2498 14.7498 14.6222 14.75 13.9705C14.75 13.677 14.7144 13.3754 14.5264 13.1345C14.3433 12.9002 14.0772 12.8116 13.9268 12.7585L13.9248 12.7576L10.915 11.7078L10.9121 11.7068C10.626 11.6084 10.344 11.4715 10.1318 11.2351C9.92993 11.0101 9.75005 10.6489 9.75 10.0203C9.75 9.02885 10.5336 8.23999 11.4502 8.23999Z" stroke="white" />
              <path d="M11.4502 8.23999H13.3301C14.3695 8.24004 15.25 9.12151 15.25 10.24C15.25 10.3738 15.1339 10.49 15 10.49C14.8661 10.49 14.75 10.3738 14.75 10.24C14.75 9.4554 14.1559 8.74004 13.3301 8.73999H11.4502C10.7328 8.73999 10.25 9.36837 10.25 10.0203C10.25 10.3137 10.2857 10.6144 10.4736 10.8552C10.6567 11.0896 10.9228 11.1781 11.0732 11.2312L11.0752 11.2322L14.085 12.282L14.0879 12.283C14.374 12.3814 14.656 12.5192 14.8682 12.7556C15.07 12.9807 15.25 13.342 15.25 13.9705C15.2498 14.9702 14.4677 15.7498 13.5498 15.7498H11.6699C10.6305 15.7497 9.75 14.8682 9.75 13.7498C9.75013 13.616 9.86622 13.4998 10 13.4998C10.1338 13.4998 10.2499 13.616 10.25 13.7498C10.25 14.5343 10.8441 15.2497 11.6699 15.2498H13.5498C14.2671 15.2498 14.7498 14.6222 14.75 13.9705C14.75 13.677 14.7144 13.3754 14.5264 13.1345C14.3433 12.9002 14.0772 12.8116 13.9268 12.7585L13.9248 12.7576L10.915 11.7078L10.9121 11.7068C10.626 11.6084 10.344 11.4715 10.1318 11.2351C9.92993 11.0101 9.75005 10.6489 9.75 10.0203C9.75 9.02885 10.5336 8.23999 11.4502 8.23999Z" stroke="white" stroke-opacity="0.1" />
              <path d="M12.5 7.25C12.6339 7.25 12.75 7.36614 12.75 7.5V16.5C12.75 16.6339 12.6339 16.75 12.5 16.75C12.3661 16.75 12.25 16.6339 12.25 16.5V7.5C12.25 7.36614 12.3661 7.25 12.5 7.25Z" fill="white" />
              <path d="M12.5 7.25C12.6339 7.25 12.75 7.36614 12.75 7.5V16.5C12.75 16.6339 12.6339 16.75 12.5 16.75C12.3661 16.75 12.25 16.6339 12.25 16.5V7.5C12.25 7.36614 12.3661 7.25 12.5 7.25Z" stroke="white" />
              <path d="M12.5 7.25C12.6339 7.25 12.75 7.36614 12.75 7.5V16.5C12.75 16.6339 12.6339 16.75 12.5 16.75C12.3661 16.75 12.25 16.6339 12.25 16.5V7.5C12.25 7.36614 12.3661 7.25 12.5 7.25Z" stroke="white" stroke-opacity="0.1" />
              <path d="M12.5 1.75C12.6339 1.75 12.75 1.86614 12.75 2C12.75 2.13386 12.6339 2.25 12.5 2.25C7.12386 2.25 2.75 6.62386 2.75 12C2.75 17.3761 7.12386 21.75 12.5 21.75C17.8761 21.75 22.25 17.3761 22.25 12C22.25 11.8661 22.3661 11.75 22.5 11.75C22.6339 11.75 22.75 11.8661 22.75 12C22.75 17.6539 18.1539 22.25 12.5 22.25C6.84614 22.25 2.25 17.6539 2.25 12C2.25 6.34614 6.84614 1.75 12.5 1.75Z" fill="white" />
              <path d="M12.5 1.75C12.6339 1.75 12.75 1.86614 12.75 2C12.75 2.13386 12.6339 2.25 12.5 2.25C7.12386 2.25 2.75 6.62386 2.75 12C2.75 17.3761 7.12386 21.75 12.5 21.75C17.8761 21.75 22.25 17.3761 22.25 12C22.25 11.8661 22.3661 11.75 22.5 11.75C22.6339 11.75 22.75 11.8661 22.75 12C22.75 17.6539 18.1539 22.25 12.5 22.25C6.84614 22.25 2.25 17.6539 2.25 12C2.25 6.34614 6.84614 1.75 12.5 1.75Z" stroke="white" />
              <path d="M12.5 1.75C12.6339 1.75 12.75 1.86614 12.75 2C12.75 2.13386 12.6339 2.25 12.5 2.25C7.12386 2.25 2.75 6.62386 2.75 12C2.75 17.3761 7.12386 21.75 12.5 21.75C17.8761 21.75 22.25 17.3761 22.25 12C22.25 11.8661 22.3661 11.75 22.5 11.75C22.6339 11.75 22.75 11.8661 22.75 12C22.75 17.6539 18.1539 22.25 12.5 22.25C6.84614 22.25 2.25 17.6539 2.25 12C2.25 6.34614 6.84614 1.75 12.5 1.75Z" stroke="white" stroke-opacity="0.1" />
              <path d="M17.5 2.75C17.6339 2.75 17.75 2.86614 17.75 3V6.75H21.5C21.6339 6.75 21.75 6.86614 21.75 7C21.75 7.13386 21.6339 7.25 21.5 7.25H17.5C17.3661 7.25 17.25 7.13386 17.25 7V3C17.25 2.86614 17.3661 2.75 17.5 2.75Z" fill="white" />
              <path d="M17.5 2.75C17.6339 2.75 17.75 2.86614 17.75 3V6.75H21.5C21.6339 6.75 21.75 6.86614 21.75 7C21.75 7.13386 21.6339 7.25 21.5 7.25H17.5C17.3661 7.25 17.25 7.13386 17.25 7V3C17.25 2.86614 17.3661 2.75 17.5 2.75Z" stroke="white" />
              <path d="M17.5 2.75C17.6339 2.75 17.75 2.86614 17.75 3V6.75H21.5C21.6339 6.75 21.75 6.86614 21.75 7C21.75 7.13386 21.6339 7.25 21.5 7.25H17.5C17.3661 7.25 17.25 7.13386 17.25 7V3C17.25 2.86614 17.3661 2.75 17.5 2.75Z" stroke="white" stroke-opacity="0.1" />
              <path d="M17.4999 7.75C17.3099 7.75 17.1199 7.68 16.9699 7.53C16.6799 7.24 16.6799 6.76 16.9699 6.47L21.9699 1.47C22.2599 1.18 22.7399 1.18 23.0299 1.47C23.3199 1.76 23.3199 2.24 23.0299 2.53L18.0299 7.53C17.8799 7.68 17.6899 7.75 17.4999 7.75Z" fill="white" />
            </svg>
          </span>
          Thanh toán (90.000 đ)
        </button>
      </div>

    </div>
  );
}


function RadioOption({ label, active }: { label: string; active?: boolean }) {
  return (
    <button
      className={`flex flex-1 items-center justify-between rounded-xl border px-2 py-3 text-[14px] font-medium ${active
        ? "border-orange-400 bg-orange-50 text-orange-500"
        : "border-gray-200 bg-gray-50 text-gray-600"
        }`}
    >
      {label}
      <span
        className={`ml-2 flex h-4 w-4 items-center justify-center rounded-full border ${active ? "border-orange-500" : "border-gray-400"
          }`}
      >
        {active && <span className="h-2 w-2 rounded-full bg-orange-500" />}
      </span>
    </button>
  );
}


function InputField({ placeholder, icon }: { placeholder: string; icon: React.ReactNode }) {
  return (
    <div className="mb-3 flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-3">
      <div className="text-gray-400">{icon}</div>
      <input
        type="text"
        placeholder={placeholder}
        className="flex-1 bg-transparent text-[14px] text-gray-700 placeholder:text-gray-400 focus:outline-none"
      />
    </div>
  );
}